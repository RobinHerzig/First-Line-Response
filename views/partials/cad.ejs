<!-- <link rel="stylesheet" href="css/style.css"> -->
<script defer type="text/javascript" src="js/main.js"></script>

<section class="CAD text-center bg-gray-800 m-6 p-6 border-2 border-base-200 border-solid rounded-2xl">
    <nav class="flex flex-row border-b-2 border-gray-700 border-solid">
        <form action="/demo/createCall" method="POST">
            <button type="submit" id="newCall"class="bg-red-900 p-3 m-3">New Call</button>
        </form>

        <section class="callList">
            <!-- <h2>Call List</h2> -->
            <ul>
                <% // Populate call list %>
                    <% for (let i=0; i < info.length; i++) { %>
                        <li class="text-left bg-gray-700">
                            <button value="<%= info[i]._id %>" class="activeCall ">
                                <span class="callListTime">
                                    <%= info[i].time %>
                                </span>
                                <span class="callListLocation">
                                    <%= info[i].location %>
                                </span>
                                <span class="callListType">
                                    <%= info[i].type %>
                                </span>
                            </button>
                        </li>
                        <% } %>
            </ul>
        </section>
    </nav>

    <main class="selectedCall flex flex-col ">
        <form action="/demo/saveSelectedCall/?_method=PUT" method="POST">
            <section class="callInfo pb-2 border-b-2 border-gray-700 border-solid">
                <fieldset>
                    <legend>Call Information</legend>
                    <label for="date">Date:</label>
                    <input type="text" placeholder="Date" name="date" class="callInfoData bg-gray-700" id="date" readonly>
                    <label for="time">Time:</label>
                    <input type="text" placeholder="Time" name="time" class="callInfoData bg-gray-700" id="time" readonly>
                    <label for="id">ID:</label>
                    <input type="text" placeholder="ID" name="id" class="callInfoData bg-gray-700" id="id" readonly>
                </fieldset>
            </section>
            <section class="callLocation pb-2 border-b-2 border-gray-700 border-solid">
                <fieldset>
                    <legend>Call Location</legend>
                    <label for="business">Business Name:</label>
                    <input type="text" placeholder="Business" name="business" class="callInfoData bg-gray-700" id="business">
                    <label for="address">Address:</label>
                    <input type="text" placeholder="Address" name="address" class="callInfoData bg-gray-700" id="address">
                    <label for="city">City:</label>
                    <input type="text" placeholder="City" name="city" class="callInfoData bg-gray-700" id="city">
                </fieldset>
            </section>
            <section class="callType pb-2 border-b-2 border-gray-700 border-solid">
                <fieldset>
                    <legend>Call Type</legend>
                    <label for="type">Type:</label>
                    <input type="text" placeholder="Type" name="type" class="callInfoData bg-gray-700" id="type">
                </fieldset>
            </section>
            <section class="callNotes pb-2 border-b-2 border-gray-700 border-solid">
                <fieldset class="max-w-3xl">
                    <legend>Notes</legend>
                    <ol name="notes" class="callInfoData bg-gray-700 overflow-y-scroll text-left h-48 mb-3" id="callNotes"></ol>
                    <input type="text" placeholder="Notes" name="newNote" class="callInfoData bg-gray-700 min-w-full" id="newNote">
                </fieldset>
            </section>
            <section class="responseDepartment pb-2 border-b-2 border-gray-700 border-solid">
                <fieldset>
                    <legend>Department Response</legend>
                    <table id="departmentResponseTable">
                        <tr>
                            <th>Apparatus</th>
                            <th>Tone</th>
                            <th>En Route</th>
                            <th>Arrival</th>
                            <th>Departure</th>
                            <th>Quarters</th>
                        </tr>
                        <tr class="apparatusRow">
                            <td><input type="text" placeholder="Apparatus" name="apparatus1"
                                    class="callInfoData response bg-gray-700" id="apparatus1"></td>
                            <td><input type="text" placeholder="Tone" name="tone1" class="callInfoData response bg-gray-700"
                                    id="tone1" readonly></td>
                            <td><input type="text" placeholder="En Route" name="enroute1" class="callInfoData response bg-gray-700"
                                    id="enroute1" readonly></td>
                            <td><input type="text" placeholder="Arrival" name="arrival1" class="callInfoData response bg-gray-700"
                                    id="arrival1" readonly></td>
                            <td><input type="text" placeholder="Departure" name="departure1"
                                    class="callInfoData response bg-gray-700" id="departure1" readonly></td>
                            <td><input type="text" placeholder="Quarters" name="quarters1" class="callInfoData response bg-gray-700"
                                    id="quarters1" readonly></td>
                        </tr>
                    </table>
                </fieldset>
            </section>
            <section class="callerInfo pb-2 border-b-2 border-gray-700 border-solid">
                <fieldset>
                    <legend>Caller Information</legend>
                    <label for="first">First Name:</label>
                    <input type="text" placeholder="First Name" name="first" class="callInfoData bg-gray-700" id="first">
                    <label for="last">Last Name:</label>
                    <input type="text" placeholder="Last Name" name="last" class="callInfoData bg-gray-700" id="last">
                    <label for="phone">Phone Number:</label>
                    <input type="text" placeholder="Phone Number" name="phone" class="callInfoData bg-gray-700" id="phone">
                </fieldset>
            </section>
            <section>
                <fieldset>
                    <button id="saveCallButton">Save Call</button>
                    <button id="deleteCallButton" formaction="/demo/deleteSelectedCall/?_method=DELETE">Delete
                        Call</button>
                </fieldset>
            </section>
        </form>

    </main>
</section>